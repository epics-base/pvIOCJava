<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0) on Wed Jul 15 14:25:51 GMT-05:00 2009 -->
<TITLE>
org.epics.ioc.pdrv.vxi11
</TITLE>

<META NAME="date" CONTENT="2009-07-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.epics.ioc.pdrv.vxi11";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/epics/ioc/pdrv/testDriver/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/epics/ioc/pdrv/vxi11/rpc/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/epics/ioc/pdrv/vxi11/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.epics.ioc.pdrv.vxi11
</H2>
<h1 style="text-align: center">EPICS JavaIOC: portDriver VXI-11<br />
package: org.epics.ioc.pdrv.vxi11<br />
2009.03.23
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11Controller.html" title="interface in org.epics.ioc.pdrv.vxi11">VXI11Controller</A></B></TD>
<TD>Methods for communication with a VXI11 Controller.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11Device.html" title="interface in org.epics.ioc.pdrv.vxi11">VXI11Device</A></B></TD>
<TD>Methods for communication with a VXI11 Device.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11SrqHandler.html" title="interface in org.epics.ioc.pdrv.vxi11">VXI11SrqHandler</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11User.html" title="interface in org.epics.ioc.pdrv.vxi11">VXI11User</A></B></TD>
<TD>This is an interface for code that uses VXI11Factory.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/DriverFactory.html" title="class in org.epics.ioc.pdrv.vxi11">DriverFactory</A></B></TD>
<TD>The factory for vxi11Driver.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11Factory.html" title="class in org.epics.ioc.pdrv.vxi11">VXI11Factory</A></B></TD>
<TD>Factory for code that communicates with the code in the rpc package, which is code
 generated by Remote Tea.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11UserFactory.html" title="class in org.epics.ioc.pdrv.vxi11">VXI11UserFactory</A></B></TD>
<TD>Factory that implements VXI11User.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Enum Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/pdrv/vxi11/VXI11ErrorCode.html" title="enum in org.epics.ioc.pdrv.vxi11">VXI11ErrorCode</A></B></TD>
<TD>&nbsp;</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.epics.ioc.pdrv.vxi11 Description
</H2>

<P>
<h1 style="text-align: center">EPICS JavaIOC: portDriver VXI-11<br />
package: org.epics.ioc.pdrv.vxi11<br />
2009.03.23</h1>
CONTENTS 

<div class="toc">
<ul>
  <li><a href="#Overview">Overview</a></li>
  <li><a href="#Configurat">Configuration</a></li>
  <li><a href="#Implementa">Implementation</a></li>
</ul>
</div>
<hr />

<h2 style="text-align: center" id="Overview">Overview</h2>
<hr />

<p>NOTE: The GPIBController and GPIBDevice commands hane not been tested.
Only minimal testing has been done.</p>

<p>This package describes JavaIOC support for communication with devices that
are accessable via the VXI-11 communication protocal. The VXI-11 standard
consists of the following documents(PDF Format):</p>
<ol>
  <li><a href="vxi-11.pdf">TCP/IP Instrument Protocol Specification</a></li>
  <li><a href="vxi-11_1.pdf">TCP/IP-VXIbus Interface Specification</a></li>
  <li><a href="vxi-11_2.pdf">TCP/IP-IEEE 488.1 Interface
  Specification</a></li>
  <li><a href="vxi-11_3.pdf">TCP/IP-IEEE 488.2 Instrument Interface
    Specification</a></li>
</ol>

<p>The protocal use the SUN ONC RPC (Remote Procedure Call) network standard.
The complete VXI-11 ONC interface definition is provided in an appendix of
the Protocal Specification. The interface specifications appear in package
org.epics.ioc.pdrv.vxi11.rpc.</p>

<p><a href="http://remotetea.sourceforge.net">Remote Tea</a> is an open
sounce implementation of ONC RPC. The jar file for Remote Tea is included
with the Java IOC. Remote Tea was used to generate, from the ONC interface
definitions, the java files that appear in package
org.epics.ioc.pdrv.vxi11.rpc. </p>

<p>The code in this package provides a portDriver driver that uses Remote Tea
and the generated files to interface to VXI-11 devices. It implements the
following interfaces:</p>
<ul>
  <li>Octet<br />
    This is for I/O to/from VXI-11 devices.</li>
  <li>GpibController<br />
    If the deviceName refers to the controller itself then interface
    GpibController is implemented.</li>
  <li>GpibDevice<br />
    This is inplemented for each deviceName</li>
</ul>

<p>VXI-11 allows both primary (PAD) and secondary (SAD) addresses, each of
which must be an integer &gt;=0. The following conventions are used for
deviceNames:</p>
<ul>
  <li>PAD only device<br />
    The deviceName is a non-negative integer. Thus "0", "1", "15" are all
    legal device names.</li>
  <li>PAD and SAD device<br />
    The deviceName is of the form PAD,SAD. Thus "0,1" , "2,127", "4,0" are
    all legal device names.</li>
  <li>The controller itself<br />
    Any string that does not match the above choices. A good choice is
    "controller".</li>
</ul>
<hr />

<h2 style="text-align: center" id="Configurat">Configuration</h2>
<hr />

<p>A structure vxi11Driver defines fields for configuring a vxi11 driver.</p>
<pre>&lt;structure name = "vxi11Driver"&gt;
    &lt;scalar name = "hostName" type = "string" /&gt;
    &lt;scalar name = "vxiName" type = "string" /&gt;
    &lt;scalar name = "lockTimeout" type = "int" /&gt;
    &lt;scalar name = "eosInput" type = "string" /&gt;
    &lt;scalar name = "eosOutput" type = "string" /&gt;
&lt;/structure&gt;</pre>

<p>NOTE: The only value accepted for eosInput and eosOutput are NL, which is
a new line.</p>

<p>A record must be defined for each port to a vxi11 controller.</p>
<pre>&lt;record name = "???" type = "portCreate"&gt;
    &lt;scalar name = "factoryName"&gt;org.epics.ioc.pdrv.vxi11.DriverFactory&lt;/scalar&gt;
    &lt;scalar name = "portName"&gt;???&lt;/scalar&gt;
    &lt;structure name = "driverParameters" type = "vxi11Driver" &gt;
        &lt;scalar name = "hostName"&gt;???&lt;/scalar&gt;
        &lt;scalar name = "vxiName"&gt;???&lt;/scalar&gt;
        &lt;scalar name = "eosInput"&gt;????&lt;/scalar&gt;
        &lt;scalar name = "eosOutput"&gt;????&lt;/scalar&gt;
    &lt;/structure&gt;
&lt;/record&gt;</pre>

<p>The following example creates a port and a record instance that sends a
command to a GPIB device and reads the response, which is a string that has a
float value.</p>
<pre>&lt;record name = "serialPort" type = "portCreate"&gt;
    &lt;scalar name = "factoryName"&gt;org.epics.ioc.pdrv.vxi11.DriverFactory&lt;/scalar&gt;
    &lt;scalar name = "portName"&gt;serialPort&lt;/scalar&gt;

    &lt;structure name = "driverParameters" type = "vxi11Driver" &gt;
        &lt;scalar name = "hostName"&gt;192.168.1.10&lt;/scalar&gt;
        &lt;scalar name = "vxiName"&gt;hpib&lt;/scalar&gt;
    &lt;/structure&gt;
&lt;/record&gt;

&lt;record name = "serialToDouble"&gt;
    &lt;scalar name = "value" type = "double"/&gt;
    &lt;structure name = "alarm" type = "alarm" /&gt;
    &lt;structure name = "timeStamp" type = "timeStamp" /&gt;
    &lt;structure name = "link" type = "portDriverLink"&gt;
        &lt;scalar name = "portName"&gt;serialPort&lt;/scalar&gt;
        &lt;scalar name = "deviceName"&gt;3&lt;/scalar&gt;
        &lt;scalar name = "timeout"&gt;.2&lt;/scalar&gt;
        &lt;structure name = "command" type = "pdrvStringNoop"&gt;
            &lt;scalar name = "value"&gt;:FETC?&lt;/scalar&gt;
            &lt;structure name = "output" type = "pdrvOctetOutput"/&gt;
        &lt;/structure&gt;
        &lt;structure name = "input" type = "pdrvStringToScalar"&gt;
            &lt;structure name = "input" type = "pdrvOctetInput"/&gt;
        &lt;/structure&gt;
    &lt;/structure&gt;
&lt;/record&gt;</pre>
<hr />

<h2 style="text-align: center" id="Implementa">Implementation</h2>
<hr />

<p>The code consists of two implementation modules:</p>
<ul>
  <li>DriverFactory<br />
    This implemnents the portDriver interfaces: PortDriver, DeviceDriver,
    Octet, GpibController, and GpibDevice.</li>
  <li>VXI11Factory<br />
    This provides access to the RPC Java code created by Remote Tea.</li>
</ul>

<p>The code was split into two modules for code clarity. The design and even
some of the code was taken from Java code that Eric Norum implemented while
he was working at the Canadian Light Source.</p>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/epics/ioc/pdrv/testDriver/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/epics/ioc/pdrv/vxi11/rpc/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/epics/ioc/pdrv/vxi11/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
