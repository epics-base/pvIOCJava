<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Thu Sep 02 09:47:30 EDT 2010 -->
<TITLE>
org.epics.ioc.support.rpc
</TITLE>

<META NAME="date" CONTENT="2010-09-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.epics.ioc.support.rpc";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/epics/ioc/support/pdrv/serial/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/epics/ioc/support/test/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/epics/ioc/support/rpc/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.epics.ioc.support.rpc
</H2>
<h1 style="text-align: center">EPICS JavaIOC: support.rpc<br />
package: org.epics.ioc.support.rpc<br />
2010.04.01
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/ExampleChannelRPCFactory.html" title="class in org.epics.ioc.support.rpc">ExampleChannelRPCFactory</A></B></TD>
<TD>Support for remotely get a list of records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/IocShowFactory.html" title="class in org.epics.ioc.support.rpc">IocShowFactory</A></B></TD>
<TD>Support for remotely get a list of records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/RecordListFactory.html" title="class in org.epics.ioc.support.rpc">RecordListFactory</A></B></TD>
<TD>Support for remotely get a list of records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/RecordRemoveFactory.html" title="class in org.epics.ioc.support.rpc">RecordRemoveFactory</A></B></TD>
<TD>Support for remotely get a list of records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/RecordShowFactory.html" title="class in org.epics.ioc.support.rpc">RecordShowFactory</A></B></TD>
<TD>Support for remotely get a list of records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/StructureListFactory.html" title="class in org.epics.ioc.support.rpc">StructureListFactory</A></B></TD>
<TD>Support for remotely get a list of records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../org/epics/ioc/support/rpc/SupportStateSetFactory.html" title="class in org.epics.ioc.support.rpc">SupportStateSetFactory</A></B></TD>
<TD>Support for an array of calcArg structures.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.epics.ioc.support.rpc Description
</H2>

<P>
<h1 style="text-align: center">EPICS JavaIOC: support.rpc<br />
package: org.epics.ioc.support.rpc<br />
2010.04.01</h1>
CONTENTS 

<div class="toc">
<ul>
  <li><a href="#Overview">Overview</a>
    <ul>
      <li><a href="#putProcess">putProcessGet RPC</a></li>
      <li><a href="#channelRPC">channelRPC</a></li>
    </ul>
  </li>
  <li><a href="#ExampleCha">ExampleChannelRPC</a></li>
  <li><a href="#RecordList">RecordList</a></li>
  <li><a href="#StructureL">StructureList</a></li>
  <li><a href="#IocShow">IocShow</a></li>
  <li><a href="#RecordShow">RecordShow</a></li>
  <li><a href="#SupportSta">SupportStateSet</a></li>
</ul>
</div>
<hr />

<h2 style="text-align: center" id="Overview">Overview</h2>
<hr />

<p>This package provides support for remote procedure calls from a channel
access client. Two types of RPCs are possible:</p>
<dl>
  <dt>putProcessGet</dt>
    <dd>This is used if the PVStructure for the data returned by a request
      always has the same structure.</dd>
  <dt>channelRPC</dt>
    <dd>This is used if a new PVStructure must be send for each request.</dd>
</dl>

<h3 id="putProcess">putProcessGet RPC</h3>

<p>A RPC is implemented via a structure that has the following fields:</p>
<dl>
  <dt>arguments</dt>
    <dd>A structure that has a set of fields that are defined by the
      implementation. It defines the arguments required by the RPC. </dd>
  <dt>result</dt>
    <dd>Also a structure that has a set of fields that are defined by the
      implementation. It contains the results.</dd>
</dl>

<p>The client issues a putGet with process request. The put contains the
arguments and the get retrieves the result.</p>

<p>javaIOC/xml/structure/rpc.xml has the definitions for the structures
required by the support provided by this package. The following sections
provide a brief description of the arguments and result for each support.</p>

<h3 id="channelRPC">channelRPC</h3>

<p>A ChannelRPC allows a different PVStructure to be created and returned to
the client for each request.</p>
<hr />

<h2 style="text-align: center" id="ExampleCha">ExampleChannelRPC</h2>
<hr />

<p>This is an example of how to implement support for a record that supports
a ChannelRPC request. See the package description for org.epics.ca.client for
details about ChannelRPC.</p>

<p>The example uses the record instance that is in
test/channelRPC/channelRPCDB.xml :</p>
<pre>&lt;record recordName = "exampleChannelRPC"&gt;
    &lt;scalar name = "factoryName" scalarType = "string"&gt;
      org.epics.ioc.support.rpc.ExampleChannelRPCFactory
    &lt;/scalar&gt;
    &lt;structure name = "arguments"&gt;
        &lt;scalar name = "size" scalarType = "int"&gt;2&lt;/scalar&gt;
    &lt;/structure&gt;
    &lt;structure name = "element"&gt;
        &lt;scalar name = "value" scalarType = "double"/&gt;
        &lt;structure name = "alarm" extends = "alarm"/&gt;
        &lt;structure name = "timeStamp" extends = "timeStamp"/&gt;
    &lt;/structure&gt;
&lt;/record&gt;
&lt;/database&gt;
</pre>

<p>Note that factoryName field. It must give the name of the factory that
creates an objec that implements interface RPCServer. The example create a
PVStructure that has size subfields each of which is a clone of element. Look
at the source code for details.</p>
<pre>
</pre>
<hr />

<h2 style="text-align: center" id="RecordList">RecordList</h2>
<hr />

<p>This returns a list of the names of a set of records specified by a
regular expression. The arguments are:</p>
<dl>
  <dt>database</dt>
    <dd>A scalar string that specifies the name of the database, e. g.
    master.</dd>
  <dt>regularExpression</dt>
    <dd>A scalar string that is the regular expression. The expression ".*"
      will return a list of all the records in the database.</dd>
</dl>

<p>The result fields are:</p>
<dl>
  <dt>status</dt>
    <dd>A scalar string that is used to report errors.</dd>
  <dt>names</dt>
    <dd>An array wih element type of string. It contains the record
    names.</dd>
</dl>
<hr />

<h2 style="text-align: center" id="StructureL">StructureList</h2>
<hr />

<p>This returns a list of the names of a set of structures specified by a
regular expression. The arguments are:</p>
<dl>
  <dt>database</dt>
    <dd>A scalar string that specifies the name of the database, e. g.
    master.</dd>
  <dt>regularExpression</dt>
    <dd>A scalar string that is the regular expression. The expression ".*"
      will return a list of all the structures in the database.</dd>
</dl>

<p>The result fields are:</p>
<dl>
  <dt>status</dt>
    <dd>A scalar string that is used to report errors.</dd>
  <dt>names</dt>
    <dd>An array wih element type of string. It contains the structure
    names.</dd>
</dl>
<hr />

<h2 style="text-align: center" id="IocShow">IocShow</h2>
<hr />

<p>This provides some useful commands for getting information about a
JavaIOC. The arguments are:</p>
<dl>
  <dt>command</dt>
    <dd>This is an enumerated structure that has the following choices: 
      <dl>
        <dt>showBadRecords</dt>
          <dd>This gets a list of all records than have something unusual
            about them.</dd>
        <dt>showThreads</dt>
          <dd>This provides a list of the names of all the threads created by
            ThreadCreate.</dd>
        <dt>showMemory</dt>
          <dd>Produces a report of memory usage by Java.</dd>
        <dt>garbageCollect</dt>
          <dd>Asks java to collect garbage and then get memory usage.</dd>
      </dl>
    </dd>
</dl>

<p>The result fields are:</p>
<dl>
  <dt>value</dt>
    <dd>A scalar string that provides the result for the request.</dd>
</dl>
<hr />

<h2 style="text-align: center" id="RecordShow">RecordShow</h2>
<hr />

<p>This provides some useful commands for getting information about a record
The arguments are:</p>
<dl>
  <dt>command</dt>
    <dd>This is an enumerated structure that has the following choices: 
      <dl>
        <dt>showState</dt>
          <dd>Get the state of the record.</dd>
        <dt>setTraceOn</dt>
          <dd>Set trace on for the record.</dd>
        <dt>setTraceOff</dt>
          <dd>Set trace off for the record.</dd>
        <dt>timeProcess</dt>
          <dd>Time how many times per second the record can be processed.
            This will only succeed if the record does not already have a
            record process requester.</dd>
        <dt>setEnableOn</dt>
          <dd>Enable the record.</dd>
        <dt>setEnableOff</dt>
          <dd>Disable the record. This prevents the record from
          processing.</dd>
        <dt>releaseProcessor</dt>
          <dd>Release the current record processor. This should only be used
            as a last attempt to fee a record with a record process requester
            that crashed.</dd>
      </dl>
    </dd>
</dl>

<p>The result fields are:</p>
<dl>
  <dt>value</dt>
    <dd>A scalar string that provides the result for the request.</dd>
</dl>
<hr />

<h2 style="text-align: center" id="SupportSta">SupportStateSet</h2>
<hr />

<p>This allows the support state of a record to be changed The arguments
are:</p>
<dl>
  <dt>command</dt>
    <dd>This is an enumerated structure that has the following choices: 
      <dl>
        <dt>idle</dt>
          <dd>A do nothing request.</dd>
        <dt>initialize</dt>
          <dd>Initialize the record. The record must be in the
            readyForInitialize state.</dd>
        <dt>start</dt>
          <dd>Start the record. It must be in the readyForStart state.</dd>
        <dt>stop</dt>
          <dd>Stop the record and put it in the readyForStart state. It must
            be in the ready state. </dd>
        <dt>uninitialize</dt>
          <dd>Uninitialize the record and put it in the readyForeInitialize
            state. It must be in the ready or readyForStart state. </dd>
      </dl>
    </dd>
</dl>

<p>The result fields are:</p>
<dl>
  <dt>message</dt>
    <dd>A scalar string that provides the result for the request.</dd>
</dl>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/epics/ioc/support/pdrv/serial/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/epics/ioc/support/test/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/epics/ioc/support/rpc/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
