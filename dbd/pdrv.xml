<?xml version="1.0" ?>
<DBDefinition>

<include addPath = "src/org/epics/ioc/pdrv/testDriver" />
<include href = "octetDriver.xml" />
<include href = "int32Driver.xml" />
<include href = "float64Driver.xml" />
<include href = "uint32DigitalDriver.xml" />
<include href = "int32ArrayDriver.xml" />
<include href = "float64ArrayDriver.xml" />

<include addPath = "dbd" />

<recordType name = "portCreate" supportName = "portCreate" >
    <field name = "factoryName" type = "string" />
    <field name = "portName" type = "string" />
    <field name = "autoConnect" type = "boolean" default = "true" />
    <field name = "priority" type = "menu" menuName = "priority" />
    <field name = "driverParameters" type = "structure" structureName = "null"/>
</recordType>

<menu name = "connectDisconnect" >
    <choice>disconnect</choice>
    <choice>connect</choice>
</menu>

<menu name = "enableDisable" >
    <choice>disable</choice>
    <choice>enable</choice>
</menu>

<recordType name = "portDeviceControl" supportName = "portDeviceControl" >
    <field name = "message" type = "string" />
    <field name = "portDevice" type = "string" />
    <field name = "connect" type = "menu" menuName = "connectDisconnect" />
    <field name = "enable" type = "menu" menuName = "enableDisable" />
    <field name = "autoConnect" type = "boolean" />
    <field name = "traceMask" type = "int" />
    <field name = "traceIOMask" type = "int" />
    <field name = "report" type = "int" />
</recordType>

<support name = "portCreate"
   factoryName = "org.epics.ioc.support.PDRVPortCreateFactory" />

<support name = "portDeviceControl"
   factoryName = "org.epics.ioc.support.PDRVPortDeviceControlFactory" />

<structure name = "pdrvLink">
    <field name = "portName" type = "string" />
    <field name = "addr" type = "int" />
    <field name = "timeout" type = "double" />
    <field name = "mask" type = "int" />
    <field name = "size" type = "int" />
    <field name = "process" type = "boolean" default = "false" />
    <field name = "drvParams" type = "string" />
</structure>

<linkSupport name = "pdrvOctetInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvOctetInterruptInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvOctetOutput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />

<linkSupport name = "pdrvInt32Input"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvInt32InterruptInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvInt32AverageInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvInt32Output"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />

<linkSupport name = "pdrvInt32ArrayInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvInt32ArrayInterruptInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvInt32ArrayOutput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />

<linkSupport name = "pdrvFloat64Input"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvFloat64InterruptInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvFloat64AverageInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvFloat64Output"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />

<linkSupport name = "pdrvFloat64ArrayInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvFloat64ArrayInterruptInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvFloat64ArrayOutput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />

<linkSupport name = "pdrvUInt32DigitalInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvUInt32DigitalInterruptInput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />
<linkSupport name = "pdrvUInt32DigitalOutput"
    configurationStructureName = "pdrvLink" 
    factoryName = "org.epics.ioc.support.PDRVLinkFactory" />


</DBDefinition>
