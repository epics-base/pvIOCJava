<?xml version="1.0" ?>
<IOCDatabase>

<structure name = "alarmSeverity" createName = "enumerated" >
  <field name = "index" type = "int" />
  <field name = "choice" type = "string" />
  <field name = "choices" type = "array" elementType = "string"
    default = "none minor major invalid" />
</structure>

<structure name = "alarm" supportName = "alarm" >
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
  <field name = "ackTransient" type = "boolean" />
  <field name = "ackSeverity" type = "structure" structureName = "alarmSeverity" />
</structure>

<structure name = "byteAlarmInterval">
  <field name = "value" type = "byte" />
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>
<structure name = "byteAlarm" supportName = "byteAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "interval" type = "array" elementType = "structure" />
  <field name = "outOfRange" type = "structure" structureName = "alarmSeverity" />
  <field name = "hystersis" type = "byte" />
</structure>

<structure name = "shortAlarmInterval">
  <field name = "value" type = "short" />
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>
<structure name = "shortAlarm" supportName = "shortAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "interval" type = "array" elementType = "structure" />
  <field name = "outOfRange" type = "structure" structureName = "alarmSeverity" />
  <field name = "hystersis" type = "short" />
</structure>

<structure name = "intAlarmInterval">
  <field name = "value" type = "int" />
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>
<structure name = "intAlarm" supportName = "intAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "interval" type = "array" elementType = "structure" />
  <field name = "outOfRange" type = "structure" structureName = "alarmSeverity" />
  <field name = "hystersis" type = "int" />
</structure>

<structure name = "longAlarmInterval">
  <field name = "value" type = "long" />
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>
<structure name = "longAlarm" supportName = "longAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "interval" type = "array" elementType = "structure" />
  <field name = "outOfRange" type = "structure" structureName = "alarmSeverity" />
  <field name = "hystersis" type = "long" />
</structure>

<structure name = "floatAlarmInterval">
  <field name = "value" type = "float" />
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>
<structure name = "floatAlarm" supportName = "floatAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "interval" type = "array" elementType = "structure" />
  <field name = "outOfRange" type = "structure" structureName = "alarmSeverity" />
  <field name = "hystersis" type = "float" />
</structure>

<structure name = "doubleAlarmInterval">
  <field name = "value" type = "double" />
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>
<structure name = "doubleAlarm" supportName = "doubleAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "interval" type = "array" elementType = "structure" />
  <field name = "outOfRange" type = "structure" structureName = "alarmSeverity" />
  <field name = "hystersis" type = "double" />
</structure>

<structure name = "booleanAlarm"  supportName = "booleanAlarm" >
  <field name = "active" type = "boolean" />
  <field name = "falseAlarm" type = "structure" structureName = "alarmSeverity" />
  <field name = "falseMessage" type = "string" />
  <field name = "trueAlarm" type = "structure" structureName = "alarmSeverity" />
  <field name = "trueMessage" type = "string" />
  <field name = "changeStateAlarm" type = "structure" structureName = "alarmSeverity" />
  <field name = "changeStateMessage" type = "string" />
</structure>

<structure name = "enumeratedAlarmState">
  <field name = "severity" type = "structure" structureName = "alarmSeverity" />
  <field name = "message" type = "string" />
</structure>


<structure name = "enumeratedAlarm"  supportName = "enumeratedAlarm" >
  <field name = "active" type = "boolean" />
   <!-- each array element must have structureName enumeratedAlarmState -->
  <field name = "stateAlarm" type = "array" elementType = "structure" />
  <field name = "changeStateAlarm" type = "structure"
      structureName = "enumeratedAlarmState" />
</structure>

<support name = "alarm"
  factoryName = "org.epics.ioc.support.alarm.AlarmFactory" />

<support name = "booleanAlarm"
  factoryName = "org.epics.ioc.support.alarm.BooleanAlarmFactory" />

<support name = "byteAlarm"
  factoryName = "org.epics.ioc.support.alarm.ByteAlarmFactory" />

<support name = "shortAlarm"
  factoryName = "org.epics.ioc.support.alarm.ShortAlarmFactory" />

<support name = "intAlarm"
  factoryName = "org.epics.ioc.support.alarm.IntAlarmFactory" />

<support name = "longAlarm"
  factoryName = "org.epics.ioc.support.alarm.LongAlarmFactory" />

<support name = "floatAlarm"
  factoryName = "org.epics.ioc.support.alarm.FloatAlarmFactory" />

<support name = "doubleAlarm"
  factoryName = "org.epics.ioc.support.alarm.DoubleAlarmFactory" />

<support name = "enumeratedAlarm"
  factoryName = "org.epics.ioc.support.alarm.EnumeratedAlarmFactory" />

</IOCDatabase>
